<template>
  <!-- headbar -->
  <nav class="flex flex-auto justify-between items-center border-b-2">
    <ul class="flex rounded p-1 m-1">
      <!-- this button controls the sidebar, default showing sidebar. -->
      <button @click="toggleSideBar" class="ml-3 mr-1 px-1 hover:bg-gray-200">
        <span class="sr-only">Menu Bar</span>
        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
          <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd" />
        </svg>
      </button>

      <router-link to="/" class="global-link">
        <svg t="1617703137911" class="inline h-5 w-5" viewBox="0 0 1036 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3458" width="200" height="200"><path d="M1014.628571 504L543.885714 33.6a36.491429 36.491429 0 0 0-51.657143 0L21.485714 504c-13.714286 13.714286-21.485714 32.342857-21.485714 51.771429 0 40.342857 32.8 73.142857 73.142857 73.142857h49.6V964.571429c0 20.228571 16.342857 36.571429 36.571429 36.571428H444.914286V745.142857h128v256h303.885714c20.228571 0 36.571429-16.342857 36.571429-36.571428V628.914286h49.6c19.428571 0 38.057143-7.657143 51.771428-21.485715 28.457143-28.571429 28.457143-74.857143-0.114286-103.428571z" p-id="3459"></path></svg>
      </router-link>
      <router-link to="/materials" class="global-link">
        <svg t="1617703313553" class="inline h-5 w-5" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="12461" width="200" height="200"><path d="M306.522602 222.412348l54.191841 0c7.338479 0 12.983462-6.209482 12.983462-13.54796L373.697905 54.191841c0-7.338479-5.644983-13.54796-12.983462-13.54796l-54.191841 0C299.184123 40.643881 293.53914 46.853363 293.53914 54.191841L293.53914 208.864388C293.53914 216.202867 299.184123 222.412348 306.522602 222.412348z" p-id="12462"></path><path d="M661.027563 222.412348l54.191841 0c7.338479 0 12.983462-6.209482 12.983462-13.54796L728.202867 54.191841c0-7.338479-5.644983-13.54796-12.983462-13.54796l-54.191841 0c-7.338479 0-12.983462 6.209482-12.983462 13.54796L648.044101 208.864388C648.044101 216.202867 653.689085 222.412348 661.027563 222.412348z" p-id="12463"></path><path d="M871.020948 111.206174l-111.206174 0 0 127.576626c0 6.209482-5.080485 11.289967-11.289967 11.289967l-121.367144 0c-6.209482 0-11.289967-5.080485-11.289967-11.289967L615.867696 111.206174 406.438809 111.206174l0 127.576626c0 6.209482-5.080485 11.289967-11.289967 11.289967L273.781698 250.072767c-6.209482 0-11.289967-5.080485-11.289967-11.289967L262.491731 111.206174 151.285557 111.206174c-28.224917 0-50.804851 22.579934-50.804851 50.804851l0 128.705623 821.345094 0L921.825799 162.011025C921.825799 133.786108 898.681367 111.206174 871.020948 111.206174z" p-id="12464"></path><path d="M100.480706 941.018743c0 28.224917 22.579934 50.804851 50.804851 50.804851l719.735391 0c28.224917 0 50.804851-22.579934 50.804851-50.804851L921.825799 314.990077 100.480706 314.990077 100.480706 941.018743zM326.280044 508.048512c0-6.209482 6.209482-14.112459 16.370452-14.112459L677.398015 493.936053c7.902977 0 16.370452 6.209482 16.370452 14.112459l1.693495 36.692393c0 6.209482-6.209482 14.112459-16.370452 14.112459L342.650496 558.853363c-7.902977 0-16.370452-6.209482-16.370452-14.112459L326.280044 508.048512zM326.280044 637.318633c0-6.209482 6.209482-14.112459 16.370452-14.112459L677.398015 623.206174c7.902977 0 16.370452 6.209482 16.370452 14.112459l1.693495 34.434399c0 6.209482-6.209482 14.112459-16.370452 14.112459L342.650496 685.865491c-7.902977 0-16.370452-6.209482-16.370452-14.112459L326.280044 637.318633zM326.280044 764.330761c0-6.209482 6.209482-14.112459 16.370452-14.112459L677.398015 750.218302c7.902977 0 16.370452 6.209482 16.370452 14.112459l1.693495 36.692393c0 6.209482-6.209482 14.112459-16.370452 14.112459L342.650496 815.135612c-7.902977 0-16.370452-6.209482-16.370452-14.112459L326.280044 764.330761z" p-id="12465"></path></svg>
      </router-link>
    </ul>
    <ul class="function">
      <slot name="func-head">
        
      </slot>
    </ul>
  </nav>
</template>

<script>
import { toRef } from 'vue'
export default {
  name: "HeadBar",
  props: {
    sidebarShowing: {
      required: false,
      type: Boolean,
    }
  },
  emits: [
    'udpate:sidebarShowing'
  ],
  setup(props, context) {
    const sidebarShowing = toRef(props, 'sidebarShowing')

    const toggleSideBar = () => {
      console.log(!sidebarShowing.value)
      context.emit('udpate:sidebarShowing', !sidebarShowing.value)
    }

    return {
      toggleSideBar
    }
  }
}
</script>

<style>
.global-link {
  @apply py-1 mx-1 px-2 rounded-lg bg-gray-100 hover:bg-gray-300 border-b-2 border-gray-300;
}
</style>